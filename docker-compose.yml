services:
  m3u-proxy:
    image: ghcr.io/rolandb5/m3u-proxy:latest
    container_name: m3u-proxy
    restart: unless-stopped
    ports:
      - "8765:8765"
    environment:
      # Port to serve on (default: 8765)
      - PORT=8765
      
      # Cache duration in hours (default: 6)
      - CACHE_HOURS=6
      
      # Enable/disable channel name normalization (default: true)
      # Set to false to pass through original names unchanged
      - NORMALIZE_NAMES=true
      
      # Groups that should NOT have (provider) (group) suffixes
      # For groups with "Auto Channel Sync" enabled in Dispatcharr
      # Format: comma-separated EXACT group names
      # Example: - NO_SUFFIX_GROUPS=NL| ODIDO VERMAAK ᴿᴬᵂ ᴳᴼᴸᴰ,NL| 8TKO PPV,NL| VIAPLAY PPV
    
    # Memory limits to prevent runaway memory usage
    mem_limit: 512m
    memswap_limit: 512m